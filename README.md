# ESP32 usb over ip

![license](https://img.shields.io/badge/许可证-Apache%202.0-blue.svg)
![device](https://img.shields.io/badge/设备-ESP32S3-orange.svg)

**一个基于开源项目 [usbipdcpp_esp32](https://github.com/yunsmall/usbipdcpp_esp32) 的增强版本，专注于优化和稳定 USB/IP 协议在 ESP32S3 上的数据传输。**

原项目实现了基础框架。本项目**着重解决了在实际应用中遇到的数据传输稳定性、兼容性和性能瓶颈问题**，旨在提供一个可用于更稳定场景的生产力工具或开发基础。

## 📑 目录
- [✨ 主要特性与增强](#-主要特性与增强)
- [🚀 快速开始](#-快速开始)
- [📊 更新日志](#-更新日志)
- [📝 许可证与致谢](#-许可证与致谢)
- [💡 开发透明度声明](#-开发透明度声明)

---

## ✨ 主要特性与增强

与原项目相比，本分支主要实现了以下改进：

*   **🚀 增强的数据传输核心**：重构了数据包处理逻辑，优化了缓冲区管理，减少了传输延迟并提高了吞吐量。
*   **🔧 提升设备兼容性**：修复了特定 USB 设备（如复合设备、某些 HID 设备）的枚举与通信问题。
*   **⚡ 改善连接稳定性**：增强了异常处理和重连机制，使长时间运行更加稳定可靠。
*   **📄 更详细的日志与调试**：增加了更多运行时日志级别，便于问题诊断和开发调试。
*   **🛠️ 简化的构建与配置**：改进了项目结构，使编译和配置选项更加清晰直观。

---

## 🚀 快速开始

1.  **环境准备**：确保已安装 ESP-IDF 开发环境（使用 V5.5.1 版本）。
2.  **获取代码**：`git clone https://github.com/psdscsv/esp32_usb_over_ip.git`
3.  **配置项目**：进入目录，运行 `idf.py set-target esp32s3`选择开发板。
4.  **编译与烧录**：`idf.py build flash monitor`
5.  **客户端连接**：在 windows的usbip_win2 客户端连接 ESP32-S3 的 IP 地址。

---

## 📊 更新日志

### [v0.1.0] - 2026-1-28
#### 🎉 首次发布
- **从原项目 `usbipdcpp_esp32` 分叉并进行增强**
- 修复了因数据传输包大于设备缓冲区导致的卡死

*[查看完整更新历史](changelog.md)*

---

## 📝 许可证与致谢

### 许可证
*   本项目基于 **Apache License Version 2.0** 开源。

### 致谢
*   衷心感谢原项目作者 [yunsmall](https://github.com/yunsmall) 及的工作。
*   感谢 USB/IP 协议的开源社区及 Espressif 提供的 ESP-IDF 框架。

---

## 💡 开发透明度声明

本项目在开发过程中，使用了 AI 编程助手进行部分代码的构思、重构和文档撰写，以提高开发效率。**项目的核心逻辑、关键优化及最终实现均由开发者验证、测试并负责。**
